<!DOCTYPE html>
<html lang="es" class="h-100">

<head>
    <!-- Se incluye el documento parcial donde se almacena la codificacion de 
    la parte del head -->
    <%- include('./partials/head.ejs',{titulo: 'Administración de Matricula'})  %>
</head>

<body class="d-flex flex-column h-100" >
    <header>
        <!-- Se incluye el documento parcial donde se almacena la codificacion de 
        la parte del encabezado -->
        <%- include('./partials/navLogin.ejs', ({titulo: "Brilliant Minds"}))  %>
    </header>
    <main class="flex-shrink-0">
        <div class="container">
            <h2 class="mt-3">Administración de Matriculas</h2>
            <!-- Botón de agregar matricula -->
            <p class="mt-3">
                <a href="/addMatricula" class="btn btn-outline-dark">Nueva Matricula</a>
            </p>
            <!-- Tabla que muestra todos las matriculas -->
            <div class="table-responsive">
                <table class="table table-hover align-middle">
                    <thead>
                        <tr>
                            <th scope="col">DNI</th>
                            <th scope="col">Alumno</th>
                            <th scope="col">Fecha de ingreso</th>
                            <th scope="col">Horario</th>
                            <th scope="col">Aula</th>
                            <th scope="col" style="text-align: center;">Acción</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Almacena en la tabla todas las matriculas que se encuentren en la base de
                        datos -->
                        <% matricula.forEach(function(matricula) { %>
                        <tr  scope="row">
                            <th><%= matricula.DNI %></th>
                            <td><%= matricula.alumno %></td>
                            <td><%= matricula.fecha %></t>
                            <td><%= matricula.descripcion %></td>
                            <td><%= matricula.nombreAula %></td>
                            <td>
                                <div class="col">
                                    <div class="row justify-content-center">
                                        <div class="col-sm-6" style="text-align: center;">
                                            <form method="get" action="editMatricula/<%= matricula.idInscripcion%>">
                                                <button class="btn btn-outline-warning btn-sm" style="border: none; background-color: transparent;" type="submit" title="Editar" data-toggle="tooltip"><i class="fas fa-edit"></i></button>
                                            </form>
                                        </div>
                                        <div class="col-sm-6" style="text-align: center;">
                                            <form method="post" action="deleteMatricula/<%= matricula.idInscripcion%>&<%= matricula.idAlumno %>">
                                                <button class="btn btn-outline-danger btn-sm" style="border: none; background-color: transparent;" type="submit" title="Eliminar" data-toggle="tooltip"><i class="fas fa-eraser"></i></button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <% }); %>
                    </tbody>
                </table>
            </div>

        </div>
    </main>
    <!-- Se incluye el documento parcial donde se almacena la codificacion de 
    la parte del pie de página y scripts -->
    <%- include('./partials/footer.ejs')  %>
</body>

</html>